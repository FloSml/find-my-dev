{% extends 'base.html.twig' %}

{% block content %}

    <main>

        <!-- TITLE SECTION -->

        <div class="container-fluid pt-5 title-section py-3 justify-content-center position-relative text-center">
            <h1>Profil de {{ user.firstName }} {{ user.lastName }}</h1>
        </div>
        <div class="wave wave-title"></div>

        <!-- PROFILE SECTION -->

        <section class="members">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        {% for message in app.flashes('profile-success') %}
                            <div class="alert alert-success">
                                <p>{{ message }}</p>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <article class="container member-card mt-4">
                <div class="row">
                    <aside class="col-3 d-flex justify-content-start align-items-center flex-column">
                        <div class="avatar member-avatar my-3">
                            {% if not user.imageName %}
                                <img src="{{ asset('assets/img/avatar/avatar' ~ variable ~ '.png') }}" alt="Avatar Find My Dev">
                            {% endif %}
                            {% if user.imageName %}
                                <img src="{{ vich_uploader_asset(user, 'imageFile') | imagine_filter('avatar') }}" alt="Photo de profil {{ user.firstName }} {{ user.lastName }}">
                            {% endif %}
                        </div>
                        <p class="member-subtitle">Infos</p>
                        <p>{{ user.city }}</p>
                    </aside>
                    <div class="container-fluid col-9">
                        <div class="row pt-4 pb-2 justify-content-center align-items-center flex-column text-center member-title">
                            <p class="member-job">{{ user.speciality }}</p>
                            {%  if user.lookingForJob == 1 %}
                                <p class="member-search">à la recherche d'opportunités</p>
                            {% endif %}
                            <p>{{ user.experience }} d'expérience</p>
                        </div>
                        <div class="row py-3 px-5 justify-content-center align-items-center flex-column text-justify">
                            <p class="member-subtitle">A propos</p>
                            {%  if user.resume is not null %}
                                    <p class="member-resume">{{ user.resume | raw }}</p>
                                {% else %}
                                    <p class="member-resume">Non renseigné</p>
                            {% endif %}
                        </div>
                        <div class="row py-3 justify-content-center align-items-start text-center">
                            <div class="col-12 col-md-6">
                                <p class="member-subtitle">Dernier diplome obtenu</p>
                                {%  if user.degree is not null %}
                                    <p class="member-resume">{{ user.degree }}</p>
                                {% else %}
                                    <p class="member-resume">Non renseigné</p>
                                {% endif %}
                                <p class="member-resume">{{ user.school }}</p>
                            </div>
                            <div class="col-12 col-md-6">
                                <p class="member-subtitle">Compétences</p>
                                <div class="row justify-content-center align-items-center text-center">
                                    {% for skill in user.skills %}
                                        <p class="member-skill">{{ skill.name }}</p>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
            <div class="container">
                <div class="row justify-content-center">
                    <a href="{{ path('update_profile') }}" class="btn-fiche" role="button">Editer mon profil</a>
                </div>
            </div>
        </section>

    </main>

{% endblock %}
